# ==================================
# Glad Labs - Environment Configuration
# ==================================
# DEVELOPMENT:  Copy to .env and customize values below
# STAGING:      Use .env.staging (committed, auto-filled by GitHub Actions)
# PRODUCTION:   Use .env.production (committed, secrets via GitHub Secrets)
#
# ‚ö†Ô∏è  NEVER commit .env or real secrets to version control!
# ‚ö†Ô∏è  .env.staging and .env.production are committed (but contain NO secrets)
#
# For setup help, see: docs/MONOREPO_SETUP.md
# To automate setup, run: .\scripts\setup-dev.ps1

# ==================================
# ENVIRONMENT & LOGGING
# ==================================
NODE_ENV=development
LOG_LEVEL=DEBUG
DEBUG=false

# ==================================
# PORT CONFIGURATION
# ==================================
STRAPI_PORT=1337
PUBLIC_SITE_PORT=3000
OVERSIGHT_HUB_PORT=3001
COFOUNDER_AGENT_PORT=8000
POSTGRES_PORT=5432
REDIS_PORT=6379

# ==================================
# DATABASE CONFIGURATION
# ==================================
# ‚úÖ REQUIRED: PostgreSQL (glad_labs_dev) for all development and production
# All environments must use PostgreSQL - no SQLite fallback

DATABASE_URL=postgresql://postgres:postgres@localhost:5432/glad_labs_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=glad_labs_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres

# ==================================
# STRAPI CMS CONFIGURATION
# ==================================

# API Token (generate in Strapi Admin: Settings ‚Üí API Tokens)
# ‚ö†Ô∏è  KEEP SECRET - Never commit real tokens!
STRAPI_API_TOKEN=dev-token-get-real-token-from-admin-panel

# API URLs (must match port configuration above)
NEXT_PUBLIC_STRAPI_API_URL=http://localhost:1337
STRAPI_API_BASE_URL=http://localhost:1337/api

# ‚úÖ Development Secrets (safe defaults for local dev only)
# ‚ö†Ô∏è  CHANGE THESE FOR PRODUCTION (use .\scripts\generate-secrets.ps1)
APP_KEYS=dev_key_1,dev_key_2,dev_key_3,dev_key_4
ADMIN_JWT_SECRET=dev-admin-jwt-secret-change-in-production
API_TOKEN_SALT=dev-api-token-salt-change-in-production
TRANSFER_TOKEN_SALT=dev-transfer-token-salt-change-in-production
JWT_SECRET=dev-jwt-secret-change-in-production

# ==================================
# SECURITY CONFIGURATION
# ==================================
# CORS: Allowed origins for cross-origin requests
# Format: "http://localhost:3000,http://localhost:3001" or use environment var
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Authentication: Set JWT_SECRET in production (required, no default)
# Production deployment will FAIL if JWT_SECRET is not set
# Generate with: openssl rand -base64 32
JWT_SECRET_KEY=${JWT_SECRET}  # Falls back to JWT_SECRET

# Rate limiting: Default 100 requests/min per IP (slowapi)
# Per-endpoint limits can be configured in routes
RATE_LIMIT_PER_MINUTE=100

# Environment for security checks (development vs production)
ENVIRONMENT=development

# Strapi Admin Panel (first-time setup only - change after login!)
STRAPI_ADMIN_EMAIL=admin@localhost
STRAPI_ADMIN_PASSWORD=Password123!-change-after-first-login

# ==================================
# NEXT.JS PUBLIC SITE CONFIGURATION
# ==================================
NEXT_PUBLIC_STRAPI_API_URL=http://localhost:1337
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_COFOUNDER_AGENT_URL=http://localhost:8000
NEXT_PUBLIC_GA_ID=

# ==================================
# REACT OVERSIGHT HUB CONFIGURATION
# ==================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_STRAPI_URL=http://localhost:1337
REACT_APP_LOG_LEVEL=debug

# ==================================
# AI MODELS - CHOOSE ONE METHOD
# ==================================
# ü§ñ OPTION 1: Free Local AI (Recommended for Development)
# ‚úÖ Zero cost, unlimited requests, runs locally
# Requires: Ollama running on http://localhost:11434
# Install from: https://ollama.ai
# Models: mistral, llama2, phi, neural-chat, etc.
USE_OLLAMA=false
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=mistral:latest

# ü§ñ OPTION 2: OpenAI (ChatGPT)
# Cost: Paid (usage-based)
# Models: gpt-4, gpt-4-turbo, gpt-3.5-turbo
# Get key: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ü§ñ OPTION 3: Anthropic (Claude)
# Cost: Paid (usage-based)
# Models: claude-opus, claude-sonnet, claude-haiku
# Get key: https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ü§ñ OPTION 4: Google AI (Gemini)
# Cost: Free tier available + paid
# Models: gemini-pro, gemini-pro-vision
# Get key: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ==================================
# GOOGLE CLOUD PLATFORM - ARCHIVED (Phase 5)
# ==================================
# ‚ö†Ô∏è  Google Cloud services (Firestore, Pub/Sub, Storage) have been archived
# in Phase 5 cleanup and migrated to REST API-based architecture.
# All original code is preserved in: archive/google-cloud-services/
#
# If you need to restore GCP integration in Phase 6:
# 1. Review: archive/README.md for restoration procedures
# 2. Restore service files from: archive/google-cloud-services/
# 3. Update requirements.txt with Google Cloud packages
# 4. Set environment variables below
#
# For now, leave these blank (REST API is default):
# GCP_PROJECT_ID=
# GCP_SERVICE_ACCOUNT_EMAIL=
# GCP_SERVICE_ACCOUNT_KEY=
# PUBSUB_TOPIC=

# ==================================
# REDIS CACHE (Optional - Production Only)
# ==================================
# For local development, in-memory cache is used
# For production, configure Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ==================================
# FEATURE FLAGS (Development)
# ==================================
ENABLE_ANALYTICS=false
ENABLE_ERROR_REPORTING=false
ENABLE_DEBUG_LOGS=true
ENABLE_PAYMENT_PROCESSING=false

# ==================================
# API RATE LIMITING & TIMEOUTS
# ==================================
API_TIMEOUT=30000
API_RETRY_ATTEMPTS=2
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
REDIS_PASSWORD=your-redis-password-here
REDIS_DB=0

# ==================================
# Email/SMTP Configuration
# ==================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=noreply@glad-labs.com

# ==================================
# Security Configuration
# ==================================
# JWT Secret (GENERATE NEW VALUE!)
JWT_SECRET=your-64-char-jwt-secret-here

# CORS Allowed Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8000

# ==================================
# Rate Limiting
# ==================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100

# ==================================
# External Services
# ==================================
SERPER_API_KEY=your-serper-api-key-here
NEWSLETTER_API_KEY=your-newsletter-api-key-here

# ==================================
# Error Tracking (Optional)
# ==================================
SENTRY_DSN=your-sentry-dsn-here

# ==================================
# Feature Flags
# ==================================
ENABLE_ANALYTICS=true
ENABLE_ERROR_REPORTING=true
ENABLE_DEBUG_LOGS=true
ENABLE_PAYMENT_PROCESSING=false
ENABLE_VOICE_INTERFACE=false
ENABLE_MOCK_DATA=true
ENABLE_MCP_SERVER=true
ENABLE_MEMORY_SYSTEM=true

# ==================================
# Testing
# ==================================
TEST_USER_EMAIL=test@local.test
TEST_USER_PASSWORD=test-password-123
# ==================================
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD

# ==================================
# Development Mode Flags
# ==================================
DEV_MODE=false
USE_MOCK_SERVICES=false